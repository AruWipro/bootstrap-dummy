<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Open Account</title>

  <!-- Stylesheets -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/css/main.css" rel="stylesheet">
</head>

<body>
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div
      class="header-container container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <h1 class="sitename">iLanding</h1>
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="#hero" class="active">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="features.html">Features</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#pricing">Pricing</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="account-opening.html">Open Account</a></li>
        </ul>
      </nav>
      <a class="btn-getstarted" href="index.html#about">Get Started</a>
    </div>
  </header>

  <main class="main">
    <section class="account-opening section">
      <div class="container">
        <h2 class="text-center">Open a Bank Account</h2>
        <form id="multiStepForm">
          <div class="form-step active" id="step-1">
            <h4>Step 1: Personal Details</h4>
            <div class="mb-3">
              <label for="name" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="name" required>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" required>
            </div>
            <button type="button" class="btn btn-primary" onclick="nextStep(2)">Next</button>
          </div>

          <div class="form-step" id="step-2" style="display: none;">
            <h4>Step 2: Account Details</h4>
            <div class="mb-3">
              <label for="account-type" class="form-label">Account Type</label>
              <select class="form-control" id="account-type" required>
                <option value="savings">Savings</option>
                <option value="current">Current</option>
              </select>
            </div>
            <button type="button" class="btn btn-secondary" onclick="prevStep(1)">Previous</button>
            <button type="submit" class="btn btn-success">Submit</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer id="footer" class="footer">
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">iLanding</strong> <span>All Rights Reserved</span></p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    (function(a,t,c,l,o,u,d){a['_genesysJourneySdk']=o;a[o]=a[o]||function(){
    (a[o].q=a[o].q||[]).push(arguments)},a[o].l=1*new Date();u=t.createElement(c),
    d=t.getElementsByTagName(c)[0];u.async=1;u.src=l;u.charset='utf-8';d.parentNode.insertBefore(u,d)
    })(window, document, 'script', 'https://apps.mec1.pure.cloud/journey/sdk/js/web/v1/ac.js', 'ac');
    ac('init', '0e0cf33e-bc71-4644-b318-3a00d283e396', { region: 'mec1' });
    ac('pageview');
  </script>

  <script>
    function nextStep(step) {
      document.getElementById('step-1').style.display = 'none';
      document.getElementById('step-2').style.display = 'block';
    }
    function prevStep(step) {
      document.getElementById('step-2').style.display = 'none';
      document.getElementById('step-1').style.display = 'block';
    }

    if (!window._genesys) window._genesys = {};
    if (!window._gt) window._gt = [];
    if(!window.Journey) window.Journey = {
      record: function(event) {
        window._gt.push(['invoke', 'sendEvent', {
          eventName: event.event
        }]);
      }
    };
   

    window._genesys.widgets = {
      main: {},
      webchat: {
        transport: {
          type: "purecloud-v2-sockets",
          dataURL: "https://apps.mec1.pure.cloud",
          deploymentKey: "d6d69019-4fda-438a-a40c-ecb6b983df82",
          orgGuid: "0e0cf33e-bc71-4644-b318-3a00d283e396"
        }
      },
      cobrowse: {
        enabled: true,
        maskAllInputs: true,
        dataURL: "https://apps.mec1.pure.cloud"
      },
      gwe: {}
    };

    // Load Genesys Script
    (function (g, e, n, es, ys) {
      g['_genesysJs'] = e;
      g[e] = g[e] || function () {
        (g[e].q = g[e].q || []).push(arguments);
      };
      g[e].t = 1 * new Date();
      g[e].c = es;
      ys = document.createElement('script');
      ys.async = 1;
      ys.src = n;
      ys.charset = 'utf-8';
      document.head.appendChild(ys);
    })(window, 'Genesys', 'https://apps.mec1.pure.cloud/genesys-bootstrap/genesys.min.js', {
      environment: 'prod-mec1',
      deploymentId: 'd6d69019-4fda-438a-a40c-ecb6b983df82'
    });

    // Track form interaction & inactivity
    document.addEventListener("DOMContentLoaded", function () {
      let emailField = document.getElementById("email");
      let idleTimer;
      let focusTimer;

      function logEvent(eventName) {
        console.log(`Event Triggered: ${eventName}`);
      }

      function sendIdleEvent() {
        logEvent("email_idle");

        if (window._gt) {
          window._gt.push(['invoke', 'sendEvent', {
            eventName: "email_idle"
          }]);

          // Explicitly record the journey after sending the event
          if (window.Journey) {
            Journey.record({ event: "email_idle" });
          }
        }
      }

      function sendFocusEvent() {
       
        logEvent("email_focus_duration!!!");
        if (window._gt) {
          logEvent("email_focus_duration2!!!");
          window._gt.push(['invoke', 'sendEvent', {
            eventName: "email_focus_duration"
          }]);

          // Explicitly record the journey after sending the event
          if (window.Journey) {
            logEvent("email_focus_duration");
            Journey.record({ event: "email_focus_duration" });
          }
        }
      }

      if (emailField) {
        emailField.addEventListener("focus", function () {
          logEvent("email_focus");

          // Start the focus timer when the field is focused
          focusTimer = setTimeout(sendFocusEvent, 10000); // Trigger after 10 seconds of focus

          // Clear previous idle timer to avoid triggering idle event
          clearTimeout(idleTimer);
        });

        emailField.addEventListener("blur", function () {
          logEvent("email_blur");

          // Stop the focus timer if the field loses focus
          clearTimeout(focusTimer);

          if (window._gt) {
            window._gt.push(['invoke', 'sendEvent', {
              eventName: "email_blur"
            }]);

            // Explicitly record the journey after sending the event
            if (window.Journey) {
              Journey.record({ event: "email_blur" });
            }
          }
        });

        emailField.addEventListener("input", function () {
          logEvent("email_input");

          // Clear the idle timer when user starts typing
          clearTimeout(idleTimer);

          // Reset the idle timer after 10 seconds of inactivity
          idleTimer = setTimeout(sendIdleEvent, 10000); // 10 seconds
        });
      }

      // Track Page View (needed for Genesys rules)
      logEvent("page_view");

      if (window._gt) {
        window._gt.push(['invoke', 'sendEvent', {
          eventName: "page_view"
        }]);

        // Explicitly record the journey after sending the event
        if (window.Journey) {
          Journey.record({ event: "page_view" });
        }
      }
    });

  </script>

  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="https://apps.mec1.pure.cloud/genesys-bootstrap/cobrowse.min.js" async></script>
</body>

</html>